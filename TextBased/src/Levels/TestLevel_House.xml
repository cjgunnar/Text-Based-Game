<?xml version="1.0" encoding="UTF-8"?>
<level>

	<prolog>You slip out of bed. Your bare feet touch the cool carpet floor. The room is illuminated by the digital LED clock on your
nightstand, the light streaming in from the window, and the glowing-red santa night-light. Your bedroom door is slightly ajar, allowing you to see into the hall.</prolog>
	
	<room id="1">
		<name>Bedroom</name>
		<description>Your bedroom is cool, but not completely dark. A santa clause night light lays in the corner under a desk.
A glowing red LED clock sits on your nightstand. The bedroom door leads out to the hallway, and is opposite the window.</description>
		<aliases>
			<alias>My room</alias>
			<alias>My bedroom</alias>
			<alias>bedroom</alias>
		</aliases>
		<objects>
			<simple_object>
				<name>Desk</name>
				<description>A simple wooden desk. It is full of junk</description>
				<requests>
					<request>
						<input type="verb">examine</input>
						<actions>
						
							<!-- A known bug: the value description is not neccessary nor does it do anything, but without it the level reader crashes -->
							<action type="out:description">description</action>
						</actions>
					</request>
					<request>
						<input type="verb">sit at</input>
						<actions>
							<action type="out">You don't have time to sit at your desk</action>
						</actions>
					</request>
				</requests>
			</simple_object>
			<simple_object>
				<name>Nightlight</name>
				<description>Mommy gave you the santa night-light. It glows red and is glows from underneath the desk</description>
				<aliases>
					<alias>night light</alias>
					<alias>night-light</alias>
					<alias>santa night light</alias>
					<alias>santa night-light</alias>
					<alias>santa clause night light</alias>
					<alias>glowing red santa light</alias>
					<alias>glowing-red night light</alias>
					<alias>glowing red santa night light</alias>
					<alias>glowing-red santa night-light</alias>
				</aliases>
				<requests>
					<request>
						<input type="verb">examine</input>
						<actions>
							<action type="out:description">description</action>
						</actions>
					</request>
				</requests>
			</simple_object>
			<simple_object>
				<name>Window</name>
				<description>The window looks out into the dark street
The street is dusted with a fresh layer of white snow</description>
				<requests>
					<request>
						<input type="verb">examine</input>
						<input type="verb">look through</input>
						<actions>
							<action type="out:description">description</action>
						</actions>
					</request>
				</requests>
			</simple_object>
			<simple_object>
				<name>Clock</name>
				<description>The clock glows red with the time 11:50 PM</description>
				<aliases>
					<alias>LED Clock</alias>
					<alias>alarmclock</alias>
					<alias>alarm clock</alias>
					<alias>digital clock</alias>
				</aliases>
				<requests>
					<request>
						<input type="verb">examine</input>
						<actions>
							<action type="out:description">description</action>
						</actions>
					</request>
				</requests>
			</simple_object>
			<simple_object>
				<name>Nightstand</name>
				<description>The wooden nightstand sits next to your bed. On top is a LED clock</description>
				<aliases>
					<alias>endtable</alias>
					<alias>end table</alias>
					<alias>night stand</alias>
					<alias>bedside table</alias>
					<alias>bed side table</alias>
				</aliases>
			</simple_object>
			<simple_object>
				<name>Bed</name>
				<description>Your twin size rocket themed bed sits in the corner. The sheets are disturbed from climbing out
The warmness tempts you, but you have been waiting all year for this night</description>
			</simple_object>
			<simple_object>
				<name>Poster</name>
				<description>A poster of space hangs above the desk</description>
				<requests>
					<request>
						<input type="verb">examine</input>
						<actions>
							<action type="out:description">description</action>
						</actions>
					</request>
					<request>
						<input type="verb">take</input>
						<actions>
							<action type="out">You have a feeling you will tear it if you take it down</action>
						</actions>
					</request>
				</requests>
				<aliases>
					<alias>Posters</alias>
					<alias>Wall</alias>
				</aliases>
			</simple_object>
		</objects>
		<exits>
			
			<exit id="6">
				<name>Bedroom Door</name>
				<aliases>
					<alias>Door</alias>
					<alias>Hallway door</alias>
					<alias>Doorway</alias>
				</aliases>
				<description>The simple white door stands ajar, and leads out to the hallway</description>
				<entranceTo>2</entranceTo>
				<properties>
					<property name="open">1</property>
					<property name="lock">0</property>
				</properties>
				<requests>
					<request>
						<input type="verb">examine</input>
						<conditions>
							<condition>
								<property_name>open</property_name>
								<target>0</target>
								<type>=</type>
								<value>0</value>
								<pass>
									<actions>
										<action type="out">The door is closed, but you can see some light from underneath it</action>	
									</actions>
								</pass>
								<fail>
									<actions>
										<action type="out">The simple white door is open, allowing light into your room from the hall</action>
									</actions>
								</fail>
							</condition>
						</conditions>
					</request>
					<request>
						<input type="verb">use</input>
						<conditions>
							<condition>
								<target>6</target>
								<type>=</type>
								<property_name>open</property_name>
								<value>1</value>
								<pass>
									<actions>
										<action type="out">You tiptoe across the room to the door, slip through, and enter the hallway</action>
						 				<action type="exit:change_room">2</action>
									</actions>
								</pass>
								<fail>
									<actions>
										<action type="out">The door is closed</action>
									</actions>
								</fail>
							</condition>
						</conditions>
					</request>
					<request>
						<input type="verb">open</input>
						<conditions>
							<condition>
								<property_name>open</property_name>
								<target>6</target>
								<type>=</type>
								<value>1</value>
								<pass>
									<actions>
										<action type="out">The door is already open</action>
									</actions>
								</pass>
								<fail>
									<actions>
										<action type="out">You open the door</action>
										<action type="property_change" property_name="open" target="6">1</action>
										<!--<action type="property_change" property_name="destination" target="6">3</action>-->
									</actions>
								</fail>
							</condition>
						</conditions>
					</request>
					<request>
						<input type="verb">close</input>
						<conditions>
							<condition>
								<type>=</type>
								<target>6</target>
								<property_name>open</property_name>
								<value>0</value>
								<pass>
									<actions>
										<action type="out">The door is already closed</action>
									</actions>
								</pass>
								<fail>
									<actions>
										<action type="out">You silently close the door</action>
										<action type="property_change" property_name="open">0</action>
									</actions>
								</fail>
							</condition>
						</conditions>
					</request>
				</requests>
			</exit>
		</exits>
	</room>

	<room id="2">
		<name>Hallway</name>
		
		<description>The second floor hallway leads to three doors: your parents' bedroom, your bedroom, and the bathroom
A stairwell descends to the main level. You have to be very quiet</description>
		
		<!-- There are no objects in the hallway -->
		
		<exits>
			<exit>
				<name>stairs</name>
				<description>The carpeted stairs reach a small landing, turn 90 degrees, and then exit on the main level</description>
				<entranceTo>3</entranceTo>
				<aliases>
					<alias>stairwell</alias>
					<alias>staircase</alias>
					<alias>downstairs</alias>
				</aliases>
			</exit>
			<exit>
				<name>Bedroom Door</name>
				<description>A simple white door with a silver knob</description>
				<entranceTo>1</entranceTo>
				<requests>
					<request>
						<input type="verb">use</input>
						<actions>
							<action type="out">You reenter your bedroom</action>
						</actions>
					</request>
				</requests>
			</exit>
			<exit>
				<name>Bathroom Door</name>
				<aliases>
					<alias>bathroom</alias>
				</aliases>
				<description>Another white door, this one leads to the upstairs bathroom</description>
				<entranceTo>0</entranceTo> <!-- 0 means it leads to nowhere -->
				<requests>
					<request>
						<input type="verb">use</input>
						<actions>
							<action type="out">You do not have to use the bathroom right now.</action>
						</actions>
					</request>
				</requests>
			</exit>
		</exits>

	</room>
	<room id="3">
		<name>Family Room</name>
		<description>The family room</description>
		<objects>
			<simple_object>
				<name>Couch</name>
				<description>An old couch</description>
			</simple_object>
		</objects>
		<exits>
			<exit>
				<name>stairs</name>
				<description>The stairs lead back up to the second floor hallway</description>
				<entranceTo>2</entranceTo>
			</exit>
		</exits>
	</room>

</level>